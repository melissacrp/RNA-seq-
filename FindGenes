
import bioinfokit
from bioinfokit.analys import Fasta

#in the folder with the positive regulated

import os
list = os.listdir() #returns list of things in directory
nega_genes = [item for item in list_nega if item.startswith('n-genes')]

for gene in nega_genes:
  bioinfokit.analys.Fasta.extract_seq(file = "Musa_acuminata_pahang_v4.cds.fa" , id = gene)
  os.rename("output.fasta", "CDS"+str(gene[8:-4])+".fasta")

for gene in posi_genes:
  bioinfokit.analys.Fasta.extract_seq(file = "Musa_acuminata_pahang_v4.cds.fa" , id = gene)
  os.rename("output.fasta", "CDS"+str(gene[8:-4])+".fasta")

#GeneFam

from bioinfokit.analys import genfam
res = genfam()
res.fam_enrich(id_file = 'x-ARAB-CDSnegatT.12vs6-filt.txt', species = 'atha', id_type = 2)


list_nega = os.listdir() #returns list of things in directory
arab_genes = [item for item in list_nega if item.startswith('x-ARAB')]

for file in arab_genes:
  res.fam_enrich(id_file = file, species = 'atha', id_type = 2)
  os.rename("fam_all_out.txt", "fam_all_"+str(file[10:-11])+".txt")
  os.rename("fam_enrich_out.txt", "fam_enrich_"+str(file[10:-11])+".txt")
  os.rename("genfam_enrich.png", str(file[10:-11])+".png")
  
  
  
